# 2-3查找树

## 思维导图

![](https://p.ipic.vip/v9l5rt.jpg)

## 定义

!!! tip "2-3查找树"

    一棵2-3查找树或为**一棵空树**，或由**以下结点**组成：

    - [x] **2-结点**，含有一个键和两条链接，左链接指向的键**小于**该结点，右链接指向的键**大于**该结点。
    - [x] **3-结点**，含有两个键和三条链接，左链接指向的键**小于**该结点，中链接指向的键位于该节点**两键之间**，右链接指向的键**大于**该结点。

    === "2-结点"

        ![](https://p.ipic.vip/er99b5.jpg){width=225}

    === "3-结点"

        ![](https://p.ipic.vip/k8osbg.jpg){width=300}

## 特性

- 一棵完美平衡的2-3查找树中的所有空链接到根节点的距离都应该是相同的
- 每一个结点都有一或两个键
- 当结点有一个键，结点有两个链接
- 当结点有两个键，结点有三个链接
- 所有叶结点在同一层
- 查找与插入的时间复杂度为$O(\log n)$

## 常用操作

### 查找

!!! quote "与二叉搜索树或者二分查找类似，从根节点递归向下查找， 区别是遇到2-结点或3-结点，要循环比对大小"

    === "查找1."
        ![](https://p.ipic.vip/8ixlm6.jpg)

    === "查找2."
        ![](https://p.ipic.vip/xnyhm1.jpg){width=615}


### 插入

#### 1. 向2-结点插入新键

!!! quote "向2-结点插入新键"

    === "1.1"

        ![](https://p.ipic.vip/ld72ce.jpg){width=325}

    === "1.2"

        ![](https://p.ipic.vip/2bx1rl.jpg){width=300}

#### 2. 向一棵只含有一个3-结点的树中插入新键

!!! quote "向一棵只含有一个3-结点的树中插入新键"

    1. 插入新键，暂时使其变为4-结点（三个结点，4个链接）
    2. 将4-结点的中间键提升为根节点，4-结点的左键作为父结点的左子树，4-结点的右键作为父结点的右子树

    === "2.1"
        ![](https://p.ipic.vip/vz9y5i.jpg){width=300}

    === "2.2"
        ![](https://p.ipic.vip/t5yzh6.jpg){width=250}

    === "2.3"
        ![](https://p.ipic.vip/hich4g.jpg){width=225}

#### 3. 向一个父结点为2结点的3结点中插入新键

!!! quote "向一个父结点为2结点的3结点中插入新键"

    1. 插入新键，暂时使其变为4-结点
    2. 把4-结点的中间键提升，与父结点组成3-结点，4-结点的左键作为父结点的中子树，4-结点的右键作为父结点的右子树

    === "3.1"
        ![](https://p.ipic.vip/glcm7v.jpg){width=425}

    === "3.2"
        ![](https://p.ipic.vip/lh3q4c.jpg){width=475}

    === "3.3"
        ![](https://p.ipic.vip/53z4tw.jpg){width=425}

#### 4. 向一个父结点为3结点的3结点中插入新键

!!! quote "向一个父结点为3结点的3结点中插入新键"

    1. 插入新键，暂时使其为4-结点
    2. 把当前4结点(为防混淆，假设为$n$)的中间键提升，与父结点(假设为$p$)组成4-结点，$n$的左键和右键作为$p$(4-结点)的左1子树和左2子树。
    3. 将$p$的中间键提升，与祖父结点组成2-结点或3-结点(向上递归继续提升，此例到此为止)，$p$左键作为祖父的中子树，$p$右键作为祖父的右子树，同时$p$左键与左1和左2组成`2-3树`，$p$右键与右1和右2组成`2-3树`。

    === "4.1"
        ![](https://p.ipic.vip/znzqks.jpg){width=475}

    === "4.2"
        ![](https://p.ipic.vip/amcyjd.jpg){width=525}

    === "4.3"
        ![](https://p.ipic.vip/zr990q.jpg){width=500}

    === "4.4"
        ![](https://p.ipic.vip/6fr57b.jpg){width=500}