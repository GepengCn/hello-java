- 什么是关系型数据库？

用关系组织数据，用行和列存储管理数据

- MySQL 有什么优点？

支持事务
崩溃可恢复
成熟稳定
社区活跃
性能好
存储引擎可插拔

- MySQL 基础架构

缓存
解析器
分析器
优化器
存储引擎

- MySQL 支持哪些存储引擎？默认使用哪个？

innoDB myisam csv 5.5.5之前是myisam 之后是innodb

- MySQL 存储引擎架构了解吗？

插件式的架构，可以自定义配置，基于表的，可以给每个表配置一个存储引擎

- MyISAM 和 InnoDB 有什么区别？

myisam不支持事务，不支持崩溃恢复，不支持行锁，只支持表锁
innodb性能更好，对多核cpu有更好的性能体现


- 索引介绍

相当于目录，为数据构建告诉的检索指引

- 索引的优缺点

快速定位、检索数据
唯一索引去重

缺点

更多的资源消耗



- 索引底层数据结构选型

hash表，有哈希冲突
二叉树，极端情况下会退化链表
avl树，每次插入删除都需要旋转
红黑树，数据量大的时候，树高太大，检索变慢
B树B+树，既有二叉树的快速检索，也不像AVL树每次都需要旋转，数据量大的时候，树也不会特高

- 什么是B树&B+树

多叉树

- B 树& B+树两者有何异同呢？

B树，数据和索引存在一起 B+树，只有叶结点存数据
B+树的叶结点是双向链表，保存了前后的节点的引用，适合范围查询


- 聚簇索引介绍?聚簇索引的优缺点?

数据和索引存在一起

优点是，查到索引，直接就能找到数据，不必二次检索了

缺点是，深度检索消耗资源较多

- 非聚簇索引介绍?非聚簇索引的优缺点?

索引和数据分开

优点，深度索引消耗少

缺点，查到索引，还得再索引数据的位置，需要二次查询

- 非聚簇索引一定回表查询吗(覆盖索引)?

如果索引本身就是要查的数据，就不必，比如主键查询

- 覆盖索引

索引本身就是要查的数据

- 联合索引

多个索引构成的，从左向右的匹配规则构成的索引

- 最左前缀匹配原则

索引从左向右，检索条件或者字段也从左向右依次匹配

如果遇到 <,>或者like '%x' or 前后有不是索引的，会破坏最左匹配原则

- 正确使用索引的一些建议

尽量不要用空列，如果有业务需求空，用0，,1，false语音代替
频繁查询的列
频繁作为查询条件字段的
频繁作为联表字段的
频繁作为排序字段的
频繁作为更新的慎用
能用联合索引尽量用
尽量不要超过5个
不用索引最好删除掉
避免破坏最左匹配原则
善用explain查询索引

- MySQL三大日志(binlog、redo log和undo log)详解

binlog，记录数据更新，主从或者数据同步，常用它
redo log，崩溃恢复
undo log 事务回滚用


- 事务隔离级别

读取未提交，不能防脏读、幻读、不可重复度
读取已提交 不能防幻读和不可重复度
可重复度 不能防幻读
串行 全防


- InnoDB 实现的 REPEATABLE-READ 隔离级别为什么可以解决幻读问题

1, mvcc机制
2. 行锁锁当前行+间隙锁锁新插入行

- SQL语句在MySQL中的执行过程

先查询是否有权限
读取缓存
通过分析器分析语法
优化器优化
调用存储引擎，并返回数据

更新
先查询
把查询的数据修改，然后调用存储引擎写入数据，然后记录redo log准备
然后记录binlog，记录redolog为提交，更新完成


- 什么是执行计划？

经过优化器优化后具体的执行方式

- 如何获取执行计划？

explain

- 如何分析 EXPLAIN 结果？



- MySQL自增主键一定是连续的吗

不一定，

数据回滚
手动设置id或者步增不为1
崩溃恢复后

- MySQL时间类型数据存储建议

timestamp 和date，用timestamp有时区，也更小
字符串更大，缺少比较api，int型小，比较方便，但是读取不直观

- MySQL隐式转换造成索引失效

如果查询的列是字符串，条件一定要用字符串查，不要用数字型，会发生隐式转换